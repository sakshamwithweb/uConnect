<!DOCTYPE html>
<html lang="en">
<!-- We are doing it for test of UV -->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UV</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.180.0/build/three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.180.0/examples/jsm/"
  }
}
</script>
    <script type="module">
        import * as THREE from "three"
        import { OrbitControls } from "three/addons/controls/OrbitControls.js"
        import { GLTFLoader } from "three/addons/loaders/GLTFLoader.js"

        class UVTest {
            constructor() {
                this.GLTFLoader = new GLTFLoader()
                this.initialSetup()
                this.test()
                this.renderer.setAnimationLoop(this.animate.bind(this))
            }

            async test() {
                // const boxG = new THREE.BoxGeometry(1, 1, 1)
                // const boxM = new THREE.MeshStandardMaterial({ color: 0x00ff00 })
                // this.box = new THREE.Mesh(boxG, boxM)
                // this.scene.add(this.box)

                // const gltf = await this.GLTFLoader.loadAsync("./assets/Mobile.glb")
                // const screenMesh = gltf.scene.children.find((a) => a.name == "Screen")
                // const lake = gltf.scene.getObjectByName("Screen")

                // gltf.scene.traverse((object) => {
                //     if(object.name=="Screen"){
                //         object.material.color.set( 0xffffff * Math.random() );
                //     }
                // });
                // this.scene.add(gltf.scene)
            }

            animate() {
                if (this?.controls) this.controls.update()
                this.resize()
                this.renderer.render(this.scene, this.camera)
            }

            initialSetup() {
                // Scene, Renderer, Canvas, Camera, 
                this.scene = new THREE.Scene()

                this.scene.background = new THREE.Color("white")

                this.renderer = new THREE.WebGLRenderer()
                this.renderer.setSize(window.innerWidth, window.innerHeight)
                this.renderer.setPixelRatio(window.devicePixelRatio)
                document.body.appendChild(this.renderer.domElement)

                this.light = new THREE.AmbientLight()
                this.scene.add(this.light)

                this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 1000)
                this.camera.position.set(5, 5, 0)
                this.camera.lookAt(new THREE.Vector3(0, 0, 0))

                this.controls = new OrbitControls(this.camera, this.renderer.domElement)
            }

            resize() {
                this.renderer.setSize(window.innerWidth, window.innerHeight)
                this.camera.aspect = window.innerWidth / window.innerHeight
                this.camera.updateProjectionMatrix()
            }
        }

        const newTest = new UVTest()
    </script>
</body>

</html>